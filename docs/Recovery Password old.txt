[Fluxo Recuperação de senha por e-mail]
	Gerar o token de reset password e enviar para o e-mail
	Captura token de recuperação
		Gera um token de membro (access token) com escopo de recuperação de senha. Permite a recuperação de senha através de um link que o membro recebe por email.
		O grant_type sempre será reset_password. O parâmetro reset_token deverá ser o valor recebido por url no e-mail de recuperação de senha que é fornecido pelo método /member/password-reset/email que é melhor descrito aqui desta documentação.
		Esse parâmetro vem duplamente encodado para url, então deve ser duplamente desencodado
	Recupera Senha
		Pega o token gerado na captura de senha e utiliza para alterar a senha do usuário


[Tela]
	Na pagina quando clica no botão recuperar senha
		http://integration.rakutendev.com.br/accounts/v2/member/password-reset/email/
	Usuario recebe o link por e-mail, acessa o link
		http://accounts.rakutendev.com.br/#/password/recovery/pfokdRMpcne6740b_jv-mceaLuF-P11GE0Yfk3_VkvjG0F9BD5p6OA
	Coloca a senha e a confirmação e clica em Continuar ele chama a api
		http://integration.rakutendev.com.br/accounts/member/password-reset


[Api]
	"password-reset/email"
		Busca a aplicação pelo ClientId
		Busca a Conta (Account pelo e-mail e aplicação do ClientId)
			Busca os tokens de Reset Password
				Pega os tokens pelo código do Account
					Pega o token que não expirou (que vai expirar em mais de 15 min) e da mesma aplicação que veio
						Se tiver algum token que não tenha sido expirado e esteja ok pra uso, retorna um erro informando que ja foi gerado um
					Se não existe nenhum token válido anula a variavel para gerar um novo token
				Se o token for nulo
					Deleta todos os tokens existentes
					Gera um novo token
					Salva no banco
				
				Retorna o Token gerado
			Encoda o Codigo do token
			Envia o email
			Verifica se a conta esta bloqueada com tentativas de erro de senha
				Seta nulo nas propriedades de bloqueio e contador
		Se não encontrou a conta (Account)
			Busca o consumidor na CustomerImport
				Busca os tokens do usuário pelo código
					Pega os tokens pelo código do Account
						Verifica se tem token válido
							Se não, anula a variavel token para gerar um novo
					Se o token for nulo
						Deleta todos os tokens existentes
						Gera um novo token
						Salva no banco
					
					Retorna o Token gerado
				Encoda o Código do token
				Completa os dados do Customer (HandleCustomer)
				Envia email
		
		Comita a transação
		
		Se a aplicação do token não for nula nem o Account ou CustomerImport
			Grava o log de Recuperação de senha
			Comita a transação
		
		Retorna o código do token
	Retorna OK
	
	"password-reset"
		Verifica se mandou o password preenchido
			Busca a conta (account) pelo codigo enviado atraves do token
			Seta a nova senha validando com a politica
			Atualiza conta
			Deleta o token
			Comita a transação
		
			Valida se tem clientId e se não é branco
				Pega a loja
				Salva o log de recuperação de senha


[Fluxo Recuperação de senha por SMS]
	Na pagina de recuperação, "não tenho mais acesso ao e-mail", e coloca ou o e-mail ou o celular
		Validamos se o Email ou documento estão corretos
		Validamos se o usuário realmente existe, buscando com o clientid informado no token, se não existir exibimos um erro informando que o cliente não existe
		Verificamos se o cliente tem dados de consumidor, se não existe dados do consumidor exibimos a mensagem
		
		Pega o celular do cliente informado atraves do e-mail ou documento. A regra do celular é:
			Se tiver o celular cadastrado no principal, utiliza o mesmo;
			Se não, verificar  se o telefone fixo principal é um celular, se for pega o mesmo;
			Se não encontrar um celular, exibe o erro de "Telefone não encontrado"
		Gera o Token e grava na tabela de ResetSMSToken e envia um SMS com o código de 6 digitos para o celular cadastrado

		O site redireciona para a página (por tras com o token gerado) do código para a validação
		Cliente recebe o codigo por SMS
		Cliente digita o codigo e valida
			Se estiver correto o token e o codigo de 6 digitos informado pelo cliente (com o banco de dados tabela ResetSMSToken), redireciona para a alteração de senha e e-mail
			Se não estiver ok, é informado o erro para o cliente
		
		Cliente altera o e-mail e/ou senha
		
